<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

    <h1>Controller Window</h1>
    <p>
        This document is on the domain: http://codepen.io
    </p>
    <p>
        <button id="send">Send Message</button>
    </p>

    <iframe id="receiver" src="https://chat-web.mateogarcialopez3.now.sh/" width="500" height="200">
        <p>Your browser does not support iframes.</p>
    </iframe>


    <script>
        window.onload = function () {
            // Get the window displayed in the iframe.
            var receiver = document.getElementById('receiver').contentWindow;

            // Get a reference to the 'Send Message' button.
            var btn = document.getElementById('send');

            // A function to handle sending messages.
            function sendMessage(e) {
                // Prevent any default browser behaviour.
                e.preventDefault();

                // Send a message with the text 'Hello Treehouse!' to the receiver window.
                receiver.postMessage('Hello Treehouse!', 'https://chat-web-l2rohupts.now.sh/');
            }

            // Add an event listener that will execute the sendMessage() function
            // when the send button is clicked.
            btn.addEventListener('click', sendMessage);
        }
    </script>
</body>

</html>